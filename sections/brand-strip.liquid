{% comment %}
  File: sections/brand-strip.liquid
  Ultra-minimal boilerplate: renders a simple brand logo row.
  Intentionally no JS, no keyframes, no :root vars (max compatibility).
{% endcomment %}

<section class="brand-strip" data-section-id="{{ section.id }}" style="background: {{ section.settings.bg }}">
    <style>
      /* Keep CSS dead simple for maximum theme compatibility */
      .brand-strip .bs-wrap {
        max-width: {{ section.settings.max_width }}px;
        margin: 0 auto;
        padding: {{ section.settings.v_pad }}px 16px;
        box-sizing: border-box;
      }
      .brand-strip .bs-row {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: {{ section.settings.gap }}px;
      }
      .brand-strip .bs-item {
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }
      .brand-strip .bs-item a {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
      }
      .brand-strip .bs-img {
        height: {{ section.settings.logo_height }}px;
        width: auto;
        max-width: 180px;
        object-fit: contain;
        display: block;
        {% if section.settings.grayscale %} filter: grayscale(1); opacity: .85; {% endif %}
        transition: opacity .2s ease, filter .2s ease, transform .2s ease;
      }
      .brand-strip .bs-item:hover .bs-img {
        {% if section.settings.grayscale %} filter: none; opacity: 1; {% else %} opacity: 1; {% endif %}
        transform: translateY(-1px);
      }
    </style>
  
    <div class="bs-wrap">
      <div class="bs-row">
        {% for block in section.blocks %}
          {% if block.type == 'logo' and block.settings.logo != blank %}
            <div class="bs-item" {{ block.shopify_attributes }}>
              {% if block.settings.url != blank %}
                <a href="{{ block.settings.url }}" aria-label="{{ block.settings.alt | escape }}">
                  <img class="bs-img" src="{{ block.settings.logo | image_url }}" alt="{{ block.settings.alt | escape }}">
                </a>
              {% else %}
                <img class="bs-img" src="{{ block.settings.logo | image_url }}" alt="{{ block.settings.alt | escape }}">
              {% endif %}
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </section>
  
  {% schema %}
  {
    "name": "Brand Logos (Basic)",
    "enabled_on": { "templates": ["*"] },
    "settings": [
      { "type": "range", "id": "max_width", "min": 960, "max": 1600, "step": 20, "label": "Content max width (px)", "default": 1200 },
      { "type": "color", "id": "bg", "label": "Background", "default": "#ffffff" },
      { "type": "range", "id": "v_pad", "min": 0, "max": 40, "step": 2, "label": "Vertical padding (px)", "default": 14 },
      { "type": "range", "id": "logo_height", "min": 20, "max": 80, "step": 2, "label": "Logo height (px)", "default": 34 },
      { "type": "range", "id": "gap", "min": 8, "max": 60, "step": 2, "label": "Gap between logos (px)", "default": 36 },
      { "type": "checkbox", "id": "grayscale", "label": "Grayscale (color on hover)", "default": true }
    ],
    "blocks": [
      {
        "type": "logo",
        "name": "Logo",
        "settings": [
          { "type": "image_picker", "id": "logo", "label": "Logo image (SVG/PNG)" },
          { "type": "text", "id": "alt", "label": "Alt text", "default": "Brand logo" },
          { "type": "url", "id": "url", "label": "Optional link" }
        ]
      }
    ],
    "presets": [
      { "name": "Brand Logos (Basic)", "category": "Custom" }
    ]
  }
  {% endschema %}
  