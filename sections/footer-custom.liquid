{% comment %}
  Footer â€“ Custom, 4-column (Brands, About, Quick Links, Policies)
  PT Sans; everything configurable.
{% endcomment %}

<section class="ft-custom" data-section-id="{{ section.id }}">
    <style>
      .ftc-wrap-{{ section.id }}{
        --bg: {{ section.settings.bg }};
        --text: {{ section.settings.text }};
        --muted: {{ section.settings.muted }};
        --heading: {{ section.settings.heading }};
        --link: {{ section.settings.link }};
        --link_hover: {{ section.settings.link_hover }};
        --divider: {{ section.settings.divider }};
        --max: {{ section.settings.max_width }}px;
        --gap: {{ section.settings.col_gap }}px;
        font-family: "PT Sans", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        background: var(--bg);
        color: var(--text);
      }
  
      .ftc-container{max-width:var(--max);margin:0 auto;padding:40px 16px 20px;box-sizing:border-box}
      .ftc-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--gap)}
      @media (max-width:1024px){ .ftc-grid{grid-template-columns:repeat(2,1fr)} }
      @media (max-width:640px){ .ftc-grid{grid-template-columns:1fr} }
  
      .ftc-title{color:var(--heading);font-weight:700;font-size:14px;letter-spacing:.2px;margin:0 0 14px}
  
      /* Brands */
      .ftc-brand{display:flex;gap:12px;align-items:flex-start;margin:0 0 14px}
      .ftc-brand .thumb{width:38px;height:38px;border-radius:999px;overflow:hidden;flex:0 0 38px;background:#2b2b2b;display:flex;align-items:center;justify-content:center}
      .ftc-brand .thumb img{width:100%;height:100%;object-fit:cover}
      .ftc-brand .b-meta{display:flex;flex-direction:column;gap:4px}
      .ftc-brand .b-name{color:#fff;font-weight:700;font-size:13px;line-height:1.2}
      .ftc-brand .b-desc{color:var(--muted);font-size:12px;line-height:1.4}
      .ftc-brand .b-link{color:var(--link);text-decoration:none;font-size:12px;font-weight:700}
      .ftc-brand .b-link:hover{color:var(--link_hover)}
  
      /* Links */
      .ftc-links ul{list-style:none;margin:0;padding:0;display:grid;gap:8px}
      .ftc-links a{color:var(--text);text-decoration:none;font-size:13px}
      .ftc-links a:hover{color:var(--link_hover)}
  
      /* About */
      .ftc-about{color:var(--muted);font-size:13px;line-height:1.6}
  
      /* Bottom */
      .ftc-divider{height:1px;background:var(--divider);margin:18px 0 0}
      .ftc-bottom{max-width:var(--max);margin:0 auto;padding:10px 16px 14px;display:flex;justify-content:space-between;align-items:center;box-sizing:border-box;font-size:12px;color:var(--muted)}
      @media (max-width:640px){ .ftc-bottom{flex-direction:column;gap:6px;text-align:center} }
      .ftc-bottom a{color:var(--link);text-decoration:none}
      .ftc-bottom a:hover{color:var(--link_hover)}
    </style>
  
    {% assign copyright_clean = section.settings.copyright_text | strip_html | strip %}
    {% assign note_clean = section.settings.bottom_note | strip_html | strip %}
  
    <div class="ftc-wrap-{{ section.id }}">
      <div class="ftc-container">
        <div class="ftc-grid">
          <!-- Column 1: Our Brands -->
          <div>
            <h4 class="ftc-title">{{ section.settings.brands_heading }}</h4>
            {% for block in section.blocks %}
              {% if block.type == 'brand' %}
                <div class="ftc-brand" {{ block.shopify_attributes }}>
                  <div class="thumb">
                    {% if block.settings.image != blank %}
                      <img src="{{ block.settings.image | image_url: width: 80, height: 80, crop: 'center' }}" alt="{{ block.settings.title | escape }}">
                    {% endif %}
                  </div>
                  <div class="b-meta">
                    {% if block.settings.title != blank %}<div class="b-name">{{ block.settings.title }}</div>{% endif %}
                    {% if block.settings.desc  != blank %}<div class="b-desc">{{ block.settings.desc }}</div>{% endif %}
                    {% if block.settings.link_url and block.settings.link_label %}
                      <a class="b-link" href="{{ block.settings.link_url }}">{{ block.settings.link_label }}</a>
                    {% endif %}
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
  
          <!-- Column 2: About -->
          <div>
            <h4 class="ftc-title">{{ section.settings.about_heading }}</h4>
            <div class="ftc-about">{{ section.settings.about_richtext }}</div>
          </div>
  
          <!-- Column 3: Quick Links -->
          <div class="ftc-links">
            <h4 class="ftc-title">{{ section.settings.quick_heading }}</h4>
            {% if section.settings.quick_menu %}
              <ul>
                {% for link in linklists[section.settings.quick_menu].links %}
                  <li><a href="{{ link.url }}">{{ link.title }}</a></li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>
  
          <!-- Column 4: Policies -->
          <div class="ftc-links">
            <h4 class="ftc-title">{{ section.settings.policies_heading }}</h4>
            {% if section.settings.policies_menu %}
              <ul>
                {% for link in linklists[section.settings.policies_menu].links %}
                  <li><a href="{{ link.url }}">{{ link.title }}</a></li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>
        </div>
      </div>
  
      <div class="ftc-divider"></div>
  
      <div class="ftc-bottom">
        <div class="l">
          {% if copyright_clean != '' %}
            {{ section.settings.copyright_text }}
          {% else %}
            &copy; {{ 'now' | date: '%Y' }} {{ shop.name }}. All rights reserved.
          {% endif %}
        </div>
        <div class="r">
          {% if note_clean != '' %}
            {{ section.settings.bottom_note }}
          {% endif %}
        </div>
      </div>
    </div>
  </section>
  
  {% schema %}
  {
    "name": "Footer (Custom)",
    "settings": [
      { "type": "range", "id": "max_width", "min": 960, "max": 1600, "step": 20, "label": "Content max width (px)", "default": 1200 },
  
      { "type": "color", "id": "bg", "label": "Background", "default": "#181818" },
      { "type": "color", "id": "text", "label": "Text color", "default": "#e8e8e8" },
      { "type": "color", "id": "muted", "label": "Muted text", "default": "#b3b3b3" },
      { "type": "color", "id": "heading", "label": "Heading color", "default": "#ffffff" },
      { "type": "color", "id": "link", "label": "Link color", "default": "#ff5a1f" },
      { "type": "color", "id": "link_hover", "label": "Link color (hover)", "default": "#ffa37f" },
      { "type": "color", "id": "divider", "label": "Divider color", "default": "#2a2a2a" },
      { "type": "range", "id": "col_gap", "min": 10, "max": 40, "step": 2, "label": "Column gap (px)", "default": 28 },
  
      { "type": "text", "id": "brands_heading", "label": "Brands column title", "default": "Our Brands" },
      { "type": "text", "id": "about_heading", "label": "About column title", "default": "About Us" },
      { "type": "text", "id": "quick_heading", "label": "Quick Links title", "default": "Quick Links" },
      { "type": "text", "id": "policies_heading", "label": "Policies title", "default": "Policies" },
  
      { "type": "richtext", "id": "about_richtext", "label": "About text", "default": "<p>Write a short paragraph about your store, your mission and what you offer customers. Keep it concise and friendly.</p>" },
  
      { "type": "link_list", "id": "quick_menu", "label": "Quick links menu" },
      { "type": "link_list", "id": "policies_menu", "label": "Policies menu" },
  
      /* IMPORTANT: richtext defaults must be non-empty; use a blank paragraph.
         In the template we check strip_html|strip so this won't render. */
      { "type": "richtext", "id": "copyright_text", "label": "Left text (copyright)", "default": "<p> </p>" },
      { "type": "richtext", "id": "bottom_note", "label": "Right text (note / credits)", "default": "<p> </p>" }
    ],
    "blocks": [
      {
        "type": "brand",
        "name": "Brand item",
        "settings": [
          { "type": "image_picker", "id": "image", "label": "Image (square recommended)" },
          { "type": "text", "id": "title", "label": "Brand name", "default": "Lorem Ipsum Dolor" },
          { "type": "text", "id": "desc", "label": "Short description", "default": "Short one-liner about the brand or category." },
          { "type": "text", "id": "link_label", "label": "Link label", "default": "Explore" },
          { "type": "url", "id": "link_url", "label": "Link URL" }
        ]
      }
    ],
    "presets": [
      { "name": "Footer (Custom)", "category": "Footer" }
    ]
  }
  {% endschema %}
  